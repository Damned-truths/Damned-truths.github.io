<!DOCTYPE html>
<html>

<head>
  <title>QGIS Track Profile 2 Web</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <style>
    html,
    body,
    #map,
    #elevation-div {
      height: 100%;
      width: 100%;
      padding: 0px;
      margin: 0px;
      position: relative;
      z-index: 9999;
    }

    #elevation-div { overflow: visible; }
    #map {
      height: 75%;
      position: relative;
      z-index: 1;
    }

    #elevation-div {
      height: 25%;
      font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
    }

    .data-summary {
      font-family: "Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;
      font-size: 12px;
      position: absolute;
      bottom: 0;
      left: 45px;
    }

    .data-summary .summaryvalue {
      font-weight: bold;
    }

  </style>
  <style>
   .custom-theme.leaflet-control.elevation .area {
    fill: #0e6f6f;
    stroke: hsla(60, 0%, 0%, 0.85);
    stroke-width: 2.5;
   }

   .custom-theme.height-focus.circle-lower {
     fill: #6f6f0e;
   }

   .custom-theme.elevation-polyline {
     stroke: #0e6f6f;
     stroke-opacity: 0.75 ;
   }
 </style>

  <!-- Leaflet (JS/CSS) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.2/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.3.2/dist/leaflet.js"></script>
  <!-- D3.js -->
  <script src="https://unpkg.com/d3@4.13.0/build/d3.min.js" charset="utf-8"></script>
  <!-- leaflet-gpx -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.js"></script>
  <!-- leaflet-elevation -->
  <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation@0.3.9/leaflet-elevation.min.css" />
  <script src="https://unpkg.com/@raruto/leaflet-elevation@0.3.9/leaflet-elevation.min.js"></script>

</head>

<body>

  <div id="map"></div>
  <div id="elevation-div" class="leaflet-control elevation"></div>

  <div id="data-summary" class="data-summary"><span class="totlen"><span class="summarylabel">Total Length: </span><span class="summaryvalue">0</span></span> &mdash; <span class="maxele"><span class="summarylabel">Max Elevation: </span><span class="summaryvalue">0</span></span>
    &mdash; <span class="minele"><span class="summarylabel">Min Elevation: </span><span class="summaryvalue">0</span></span></div>

  <script>
  var opts = {"map": {"center": [41.4583, 12.7059], "zoom": 5, "markerZoomAnimation": false, "zoomControl": false}, "zoomControl": {"position": "topleft"}, "elevationControl": {"data": "{\"name\":\"Short\", \"type\":\"FeatureCollection\",\"features\": [{ \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiLineString\", \"coordinates\": [ [ [ 151.08609540464042, -33.74651418488412,112.44999694824219 ], [ 151.086443898327, -33.74670602170962,110.9749984741211 ], [ 151.08704280766963, -33.74696789292334,115.1989974975586 ], [ 151.08741396346772, -33.747111966573655,117.5469970703125 ], [ 151.08770942760617, -33.747098503115,118.68800354003906 ], [ 151.08783110369652, -33.747130458227936,119.23699951171875 ], [ 151.08785642005648, -33.747287213693276,119.47899627685547 ], [ 151.08769021708824, -33.74763946274248,119.14199829101562 ], [ 151.0876908728273, -33.74793415740889,117.68800354003906 ], [ 151.08771222361835, -33.74810738985438,116.14099884033203 ], [ 151.08774213950798, -33.74821911182244,115.0989990234375 ], [ 151.08770014854395, -33.7484890897893,114.26300048828125 ], [ 151.0876286418376, -33.74862931003943,114.63300323486328 ], [ 151.0873780758806, -33.748890041720536,116.74199676513672 ], [ 151.08803297625946, -33.749224943736714,114.2750015258789 ], [ 151.08862484451802, -33.74948068454779,112.61799621582031 ], [ 151.08913995165238, -33.74962698260567,111.20800018310547 ], [ 151.08963480355294, -33.749712825296655,109.5790023803711 ], [ 151.09009433864423, -33.74976804961121,108.67900085449219 ], [ 151.09035462716434, -33.749717951779544,108.42500305175781 ], [ 151.09065156637686, -33.74963835057222,108.30699920654297 ], [ 151.09090439079043, -33.74960016402989,107.93699645996094 ], [ 151.09165180250437, -33.749659835444554,107.48899841308594 ], [ 151.0922418156696, -33.74967497149606,106.7699966430664 ], [ 151.09271681173573, -33.74968231326725,106.50900268554688 ], [ 151.09383307644396, -33.74999123743715,103.9729995727539 ], [ 151.09399780775377, -33.7500298655543,102.80699920654297 ], [ 151.094280085162, -33.74996205707735,101.1510009765625 ], [ 151.09444447739008, -33.74985333693388,99.86299896240234 ], [ 151.09467824471872, -33.749862960195415,98.81999969482422 ], [ 151.09492700447265, -33.74984575155024,98.4739990234375 ], [ 151.0951692321079, -33.74979837169075,96.97100067138672 ], [ 151.095357083643, -33.74976819410071,96.2760009765625 ], [ 151.0957752367734, -33.74974156993863,95.302001953125 ], [ 151.0961428783057, -33.74972017911085,95.0469970703125 ], [ 151.096485131131, -33.74970741655951,94.822998046875 ], [ 151.09677267617022, -33.74972688627266,94.50399780273438 ], [ 151.09701831337767, -33.74985095377436,93.64199829101562 ], [ 151.09714319717136, -33.74990099122777,93.48799896240234 ], [ 151.09731725222395, -33.74984353500416,93.05500030517578 ], [ 151.097480179603, -33.74980094193895,91.76699829101562 ], [ 151.09768469483436, -33.749831157484266,90.06900024414062 ], [ 151.09773001418137, -33.74989800983601,88.41000366210938 ], [ 151.0977376224216, -33.75004246265645,84.36199951171875 ], [ 151.0977203732688, -33.75017149736965,82.62200164794922 ], [ 151.09782553918504, -33.75029941196431,79.07099914550781 ], [ 151.09805092985607, -33.750525403070256,71.74299621582031 ], [ 151.09829031745497, -33.750769651411005,64.01100158691406 ], [ 151.09838556632974, -33.75102069934253,60.28499984741211 ], [ 151.09843675630287, -33.75114778171619,59.465999603271484 ], [ 151.09858984810293, -33.751387692792946,57.76499938964844 ], [ 151.09872693906394, -33.7515371474595,56.90399932861328 ], [ 151.09888235507773, -33.751671849325476,54.53200149536133 ], [ 151.09917851345836, -33.751790676941454,54.10100173950195 ], [ 151.0994923337814, -33.75192481081127,52.69599914550781 ], [ 151.09971305665184, -33.75203646144871,51.15800094604492 ], [ 151.0998206157234, -33.75205615958063,50.88399887084961 ], [ 151.09990011590753, -33.75204234870219,49.72200012207031 ], [ 151.10003500445316, -33.752128621238754,45.935001373291016 ], [ 151.10006593248514, -33.75219525120154,44.198001861572266 ], [ 151.10002784129682, -33.75245326599553,38.74700164794922 ], [ 151.10000180585837, -33.752654333549174,35.91999816894531 ], [ 151.10015254892815, -33.75267469626558,32.435001373291016 ], [ 151.1001890157183, -33.75265345697872,31.197999954223633 ], [ 151.10022423466393, -33.75264798517411,30.118999481201172 ], [ 151.10030975541568, -33.752687640816994,29.56100082397461 ], [ 151.10037821606045, -33.75272553029933,30.96299934387207 ], [ 151.10041115937375, -33.75278241847917,33.25 ], [ 151.10045324607233, -33.75250642311276,31.65399932861328 ], [ 151.1005028432535, -33.75205313081953,31.42300033569336 ], [ 151.10044498306542, -33.7519018906488,31.756999969482422 ], [ 151.1000662374015, -33.75161039608831,32.64899826049805 ], [ 151.09952935764173, -33.75130744431408,31.14299964904785 ], [ 151.09924492486374, -33.75114670027827,31.54199981689453 ], [ 151.09909360779295, -33.75066325103466,33.027000427246094 ], [ 151.09919498277966, -33.75014760996459,32.6879997253418 ], [ 151.09923000739022, -33.74986549220672,33.97600173950195 ], [ 151.09921823594968, -33.74942027613172,37.79199981689453 ], [ 151.0988239682084, -33.749017280179096,36.111000061035156 ], [ 151.09826849122496, -33.74841634454374,32.99599838256836 ], [ 151.09804018427667, -33.74832261654602,33.63100051879883 ], [ 151.09741225565296, -33.74823174912045,33.8849983215332 ], [ 151.09696625278173, -33.74821585168698,34.35300064086914 ], [ 151.09626543839786, -33.74832832989602,35.28099822998047 ], [ 151.0958578880595, -33.74836414042028,35.63800048828125 ], [ 151.09541855006825, -33.74837239612833,35.78900146484375 ], [ 151.0949365631461, -33.748355936020616,37.821998596191406 ], [ 151.09432342440886, -33.74808486187571,37.04999923706055 ], [ 151.09386948903386, -33.747939530256275,37.85300064086914 ], [ 151.09328234872225, -33.74779514609474,37.65599822998047 ], [ 151.09312208119695, -33.74755511783925,40.47800064086914 ], [ 151.09309455005175, -33.74717280490788,38.821998596191406 ], [ 151.09319908805804, -33.746678266915495,38.58000183105469 ], [ 151.0932695145316, -33.746423760914006,38.62799835205078 ], [ 151.09304574434415, -33.74612561868094,39.323001861572266 ], [ 151.09244042002518, -33.74566521594799,42.3129997253418 ], [ 151.09197616709662, -33.745173914445054,46.31399917602539 ], [ 151.09158241907434, -33.74474985522589,44.915000915527344 ], [ 151.0912007352341, -33.74426884859516,44.207000732421875 ], [ 151.09097357927484, -33.74396162942548,42.6349983215332 ], [ 151.09100202956472, -33.74348997224134,42.492000579833984 ], [ 151.09096950952895, -33.74284597360708,42.6510009765625 ], [ 151.09098130076052, -33.742313918889835,45.297000885009766 ], [ 151.09135943417488, -33.741817599618535,45.95199966430664 ], [ 151.0919189997444, -33.74125492321321,43.05500030517578 ], [ 151.0920681167234, -33.74102268308062,43.16600036621094 ], [ 151.0922029037912, -33.74062483675343,43.89400100708008 ], [ 151.09205857515647, -33.74031589275243,45.95899963378906 ], [ 151.09160194283638, -33.73948191089196,47.590999603271484 ], [ 151.0914314976927, -33.73905228274576,51.20399856567383 ], [ 151.09080890642397, -33.73856153575852,50.1510009765625 ], [ 151.0901469442376, -33.738223533076955,51.845001220703125 ], [ 151.0900731864921, -33.73797882557635,53.2400016784668 ], [ 151.0898062709095, -33.738004765100406,54.41999816894531 ], [ 151.08974663899428, -33.73785349272732,56.3129997253418 ], [ 151.08964089922148, -33.737833814308935,61.805999755859375 ], [ 151.08938091327337, -33.73787188812853,74.39600372314453 ], [ 151.08925015356928, -33.73792549334802,74.7040023803711 ], [ 151.0890411374957, -33.73801848126695,75.5790023803711 ], [ 151.08877638587828, -33.73810910233331,81.2020034790039 ], [ 151.08851543346603, -33.7381095719694,88.28399658203125 ], [ 151.0888057044612, -33.738004311656695,84.48999786376953 ], [ 151.089023582278, -33.737917475317715,82.69300079345703 ], [ 151.0892576847726, -33.737748197513824,82.27899932861328 ], [ 151.0893365081656, -33.73760207514943,81.75800323486328 ], [ 151.08948532592845, -33.73730217611296,76.15799713134766 ], [ 151.08954276157897, -33.737065512831954,75.81800079345703 ], [ 151.0896112560136, -33.73697937020454,72.50599670410156 ], [ 151.08964263811725, -33.73694377200975,68.71900177001953 ], [ 151.08963447702547, -33.736824869566675,69.22599792480469 ], [ 151.0894683101497, -33.73644642389116,76.65899658203125 ], [ 151.08947414165934, -33.73626459120057,73.77100372314453 ], [ 151.08950286012762, -33.73602447641606,71.91300201416016 ], [ 151.08965247304963, -33.73585088298657,68.35800170898438 ], [ 151.08969887930752, -33.73578695086383,69.88999938964844 ], [ 151.08972566427596, -33.7356340088241,76.31300354003906 ], [ 151.08976457474765, -33.73558349213022,76.62300109863281 ], [ 151.08973929017785, -33.735506422557705,80.0469970703125 ], [ 151.08977153799887, -33.735431746818996,81.31600189208984 ], [ 151.0898750769784, -33.73522586664766,81.7959976196289 ], [ 151.08983706728148, -33.734992236607994,89.74199676513672 ], [ 151.0897536843426, -33.73493832390315,93.03900146484375 ], [ 151.08978556539824, -33.73488018092922,93.41400146484375 ], [ 151.089894366608, -33.734842773690616,91.01799774169922 ], [ 151.09008102082439, -33.734702829744734,87.05799865722656 ], [ 151.09014514869932, -33.73448882201618,91.95500183105469 ], [ 151.09019891593363, -33.734336297288706,93.0250015258789 ], [ 151.0903178431416, -33.734166738655496,92.02999877929688 ], [ 151.0902804989231, -33.73398423787042,94.50499725341797 ], [ 151.09020554473193, -33.73387482651545,94.85800170898438 ], [ 151.0900813876721, -33.733793220268595,96.83699798583984 ], [ 151.0897537565277, -33.73363629748403,103.1520004272461 ], [ 151.08956627263578, -33.73357024918831,105.12999725341797 ], [ 151.0894039734557, -33.73350459041969,106.61100006103516 ], [ 151.08920663001095, -33.73339629109373,108.72899627685547 ], [ 151.08864991082996, -33.73326438549708,115.98699951171875 ], [ 151.0886122343473, -33.73325929162531,116.19200134277344 ], [ 151.0886623683177, -33.733351781145764,117.90799713134766 ], [ 151.0887942843694, -33.7334891382659,119.01000213623047 ], [ 151.08891087750555, -33.73358716713167,119.31400299072266 ], [ 151.08902074198744, -33.733664042782586,122.44499969482422 ], [ 151.08911118456473, -33.73380526800748,126.86499786376953 ], [ 151.08914892708444, -33.73388854454016,130.2790069580078 ], [ 151.08913326848037, -33.73402662376355,133.54600524902344 ], [ 151.0890781653753, -33.734320455923566,138.00100708007812 ], [ 151.08905104748612, -33.734407238871235,138.35899353027344 ], [ 151.08888941154615, -33.734473897297846,140.59300231933594 ], [ 151.08882618313956, -33.73448494633085,141.35800170898438 ], [ 151.0886268060043, -33.73438713904486,144.5019989013672 ], [ 151.0885569154645, -33.734374028852464,145.5570068359375 ], [ 151.088444683238, -33.734403864303886,146.71499633789062 ], [ 151.08829560759696, -33.73439103118876,148.3780059814453 ], [ 151.08800315333477, -33.73435192120513,151.302001953125 ], [ 151.08774841183597, -33.73423521300632,152.4810028076172 ], [ 151.0874472666672, -33.734101246882865,153.61099243164062 ], [ 151.08723332323424, -33.73433548413082,154.85899353027344 ], [ 151.08692366650018, -33.73466596480587,154.46400451660156 ], [ 151.08680846334474, -33.73482956375043,154.33999633789062 ], [ 151.0866179689831, -33.73506115628781,155.34500122070312 ], [ 151.08647614805864, -33.73520780384987,156.24099731445312 ], [ 151.08634202303895, -33.73533201812741,156.2010040283203 ], [ 151.08674850939548, -33.73542251494664,151.8159942626953 ], [ 151.08691672828502, -33.73578896791949,149.15499877929688 ], [ 151.08695489711118, -33.736015083678915,152.3249969482422 ], [ 151.0869591501169, -33.736309834544194,152.4969940185547 ], [ 151.0869989209909, -33.736463807368374,151.97300720214844 ], [ 151.08715062725724, -33.73660147293397,148.79299926757812 ], [ 151.08712843337335, -33.7367905693165,146.9929962158203 ], [ 151.08707965245887, -33.73704240042899,142.70199584960938 ], [ 151.0867794836464, -33.73726928634272,140.5050048828125 ], [ 151.08636937229966, -33.73758467671121,135.38900756835938 ], [ 151.08623391167944, -33.737687821130564,134.03700256347656 ], [ 151.08615228636899, -33.737797814105505,132.59300231933594 ], [ 151.0860883167169, -33.73792311572484,131.30799865722656 ], [ 151.08615193683994, -33.738137598326574,128.9669952392578 ], [ 151.0860982106394, -33.738611869343586,130.0500030517578 ], [ 151.08616534662, -33.739154168085044,132.6529998779297 ], [ 151.08640346751005, -33.739452544782736,132.8780059814453 ], [ 151.08658149893165, -33.739539500413784,132.86199951171875 ], [ 151.08650259490935, -33.7398510039096,131.97799682617188 ], [ 151.0864971200413, -33.74009749199524,130.0 ], [ 151.08635732292285, -33.74023364606937,128.45199584960938 ], [ 151.08606734209428, -33.74032537343862,120.18199920654297 ], [ 151.08555641895583, -33.74031744980197,103.69000244140625 ], [ 151.0847070122136, -33.740316300063824,83.56500244140625 ], [ 151.08436480808723, -33.74016665414415,82.0530014038086 ], [ 151.0840844521826, -33.73982552025704,89.53199768066406 ], [ 151.08393280025544, -33.73984722205235,97.20999908447266 ], [ 151.08383018344952, -33.739929824623204,101.34300231933594 ], [ 151.08362829259877, -33.73994473212584,108.10900115966797 ], [ 151.08336910071694, -33.73994672158722,114.08000183105469 ], [ 151.08310766226325, -33.739726158716245,118.50800323486328 ], [ 151.08267060619144, -33.739310420393984,121.2249984741211 ], [ 151.08235612320505, -33.73920931138935,122.61599731445312 ], [ 151.0819362443412, -33.738992298411624,127.34300231933594 ], [ 151.08144812317974, -33.738930586521256,129.2790069580078 ], [ 151.08100344638828, -33.738857520218005,133.10899353027344 ], [ 151.08076450658768, -33.73891995880462,133.56300354003906 ], [ 151.0803538009774, -33.73893762789497,134.48699951171875 ], [ 151.08007928264212, -33.738981469901134,134.42100524902344 ], [ 151.08002515944312, -33.73914901908897,130.00599670410156 ], [ 151.07979274420404, -33.73924162708154,127.5260009765625 ], [ 151.07944412043997, -33.73938053821423,121.59600067138672 ], [ 151.07933148944025, -33.739589274425136,116.47599792480469 ], [ 151.07938342834942, -33.73984266916828,117.90699768066406 ], [ 151.0793044981873, -33.74015416712612,126.89900207519531 ], [ 151.0792428662969, -33.74065838105966,137.32699584960938 ], [ 151.07922776155615, -33.74101296988172,142.32699584960938 ], [ 151.07933901253386, -33.741189106076035,141.927001953125 ], [ 151.07951864378708, -33.74172883543,134.41099548339844 ], [ 151.07957856398724, -33.742108647469664,133.9199981689453 ], [ 151.0796105707848, -33.74244893440104,137.60499572753906 ], [ 151.079547026005, -33.74279675552842,140.3260040283203 ]]] } }]}", "options": {"position": "topright", "theme": "custom-theme", "useHeightIndicator": true, "collapsed": false, "detachedView": true, "elevationDiv": "#elevation-div", "followPositionMarker": false, "autohide": false}}, "layersControl": {"options": {"collapsed": false}}, "otmLayer": {"url": "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png", "options": {"attribution": "Map data: &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenTopoMap</a>, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)"}}, "osmLayer": {"url": "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", "options": {"attribution": "Map data: &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://openstreetmap.org\">OpenStreetMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)"}}} ;
    var map = new L.Map('map', opts.map);

    var baseLayers = {};
    baseLayers.OTM = new L.TileLayer(opts.otmLayer.url, opts.otmLayer.options);
    baseLayers.OSM = new L.TileLayer(opts.osmLayer.url, opts.osmLayer.options);

    var controlZoom = new L.Control.Zoom(opts.zoomControl);
    var controlElevation = L.control.elevation(opts.elevationControl.options);
    var controlLayer = L.control.layers(baseLayers, null, opts.layersControl.options);

    controlZoom.addTo(map);
    controlLayer.addTo(map);

    map.addLayer(baseLayers.OSM);

    map.on('eledata_loaded', function(e) {
      var q = document.querySelector.bind(document);
      var track = e.track_info;

      controlLayer.addOverlay(e.layer, e.name);

      q('.totlen .summaryvalue').innerHTML = track.distance.toFixed(2) + " km";
      q('.maxele .summaryvalue').innerHTML = track.elevation_max.toFixed(2) + " m";
      q('.minele .summaryvalue').innerHTML = track.elevation_min.toFixed(2) + " m";
    });

    controlElevation.loadChart(map);
    controlElevation.loadData(opts.elevationControl.data);
  </script>

</body>

</html>
